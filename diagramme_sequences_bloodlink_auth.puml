@startuml Diagramme de Séquences - BloodLink - Authentification

!theme plain
skinparam backgroundColor #FFFFFF
skinparam sequenceArrowThickness 2
skinparam roundcorner 20
skinparam maxmessagesize 60

title **Processus d'Authentification - BloodLink**

actor "Donneur" as Donor
actor "Admin Banque" as BankAdmin
actor "Super Admin" as SuperAdmin

participant "Interface Web" as UI
participant "AuthController" as Auth
participant "User Model" as UserModel

database "Base de Données" as DB

== **Processus d'Authentification** ==

note over Donor, Auth : **Étape 1: Connexion utilisateur**
Donor -> UI: Accès à la page de connexion
UI -> Auth: Demander formulaire de connexion
Auth -> UI: Retourner formulaire de connexion
UI -> Donor: Afficher formulaire de connexion

note over Donor, Auth : **Étape 2: Validation des identifiants**
Donor -> UI: Saisir identifiants (email/password)
UI -> Auth: Envoyer identifiants
Auth -> UserModel: Vérifier identifiants
UserModel -> DB: Rechercher utilisateur
DB --> UserModel: Retourner données utilisateur
UserModel --> Auth: Retourner résultat authentification

alt Authentification réussie
    Auth -> Auth: Vérifier rôle utilisateur
    Auth -> UI: Rediriger vers dashboard approprié
    UI -> Donor: Afficher dashboard
else Authentification échouée
    Auth -> UI: Retourner erreur
    UI -> Donor: Afficher message d'erreur
end

@enduml
